webpackJsonp([4],{C03i:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("b3Rb"),i={name:"sign",data:function(){return{payOrder:a.a.getOrder(),sms:{},curId:!1,success:!1,sendAuthCode:!0,authTime:0,authTimetimer:""}},computed:{isAll:function(){return!this.sms.validCode||!this.curId}},created:function(){this.getUser()},methods:{getUser:function(){var s=this,e=this.util.getUser();this.$http.post("/msc/user/get",e).then(function(e){e.success?s.sms=e.body:s.$messagebox.alert(e.message).then(function(e){s.$router.go(-1)})})},codeClick:function(){var s=this;if(this.sms.mobileNo){/^((13|14|15|16|17|18|19)[0-9]{1}\d{8})$/.test(this.sms.mobileNo)?(this.payOrder.orderNo?(this.sms.verifyType="2",this.sms.orderAmount=this.payOrder.amount,this.sms.orderNo=this.payOrder.orderNo,this.sms.subInstId=this.payOrder.hosCode):this.sms.verifyType="0",this.$http.post("/mpc/pay/code",this.sms).then(function(e){e.success?(s.sms.orderNo=e.body.orderNo,s.sendAuthCode=!1,s.authTime=60,s.authTimetimer=setInterval(function(){s.authTime--,s.authTime<=0&&(s.sendAuthCode=!0,clearInterval(s.authTimetimer))},1e3)):s.$messagebox.alert(e.message)})):this.$toast("手机号格式不正确")}else this.$toast("请填写手机号")},signClick:function(){var s=this;this.payOrder.orderNo?(this.payOrder.validCode=this.sms.validCode,this.pay()):this.$http.post("/mpc/pay/sign",this.sms).then(function(e){e.success?s.$messagebox.alert("签约成功").then(function(){s.success=!0}):s.$messagebox.alert("签约失败："+e.message).then(function(){s.sms.validCode="",s.curId=!1,s.sendAuthCode=!0,clearInterval(s.authTimetimer)})})},pay:function(){var s=this;this.payOrder.payModel="1",this.payOrder.agreementInfo=this.sms,this.$http.post("/mpc/pay/unified",this.payOrder).then(function(e){e.success?s.$router.push({name:"Result",params:{paySuccess:e.success}}):s.$router.push({name:"Result",params:{paySuccess:e.success,payMessage:e.message}})})},back:function(){this.$router.push("/")}}},o={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"main"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!s.success,expression:"!success"}]},[t("ul",{staticClass:"border_bottom"},[t("li",{staticClass:"border_bottom"},[t("label",[s._v("姓名")]),s._v(s._s(s._f("tuoMin")(s.sms.cardName,1,1)))]),s._v(" "),t("li",{staticClass:"border_bottom"},[t("label",[s._v("身份证号")]),s._v(s._s(s._f("tuoMin")(s.sms.idNo,3,4)))]),s._v(" "),t("li",[t("label",[s._v("持卡人户名")]),s._v(s._s(s._f("tuoMin")(s.sms.cardName,1,1)))])]),s._v(" "),t("hr"),s._v(" "),t("ul",{staticClass:"border_bottom"},[t("li",{staticClass:"border_bottom"},[t("label",{directives:[{name:"show",rawName:"v-show",value:s.sms.bankName&&s.sms.bankName.length>0,expression:"sms.bankName && sms.bankName.length > 0"}]},[s._v("开户行")]),s._v(s._s(s.sms.bankName))]),s._v(" "),t("li",{staticClass:"border_bottom"},[t("label",[s._v("银行账号")]),s._v(s._s(s._f("tuoMin")(s.sms.cardNo,3,4)))]),s._v(" "),t("li",{staticClass:"border_bottom"},[t("label",[s._v("手机号码")]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.sms.mobileNo,expression:"sms.mobileNo",modifiers:{trim:!0}}],staticClass:"mobile",attrs:{type:"text",placeholder:"请输入手机号",maxlength:11},domProps:{value:s.sms.mobileNo},on:{input:function(e){e.target.composing||s.$set(s.sms,"mobileNo",e.target.value.trim())},blur:function(e){s.$forceUpdate()}}})]),s._v(" "),t("li",[t("label",[s._v("验证码")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.sms.validCode,expression:"sms.validCode"}],staticClass:"yzm box_right",attrs:{type:"text",placeholder:"请输入验证码",maxlength:6},domProps:{value:s.sms.validCode},on:{input:function(e){e.target.composing||s.$set(s.sms,"validCode",e.target.value)}}}),t("input",{directives:[{name:"show",rawName:"v-show",value:s.sendAuthCode&&s.sms.cardNo&&s.sms.cardNo.length>0,expression:"sendAuthCode && sms.cardNo && sms.cardNo.length > 0"}],staticClass:"hq_yzm",attrs:{type:"button",value:"获取验证码"},on:{click:s.codeClick}}),t("span",{directives:[{name:"show",rawName:"v-show",value:!s.sendAuthCode,expression:"!sendAuthCode"}],staticClass:"tm_yzm"},[s._v(s._s(s.authTime)+"秒之后重发")])])]),s._v(" "),t("div",{staticClass:"check",class:{"check-true":s.curId},on:{click:function(e){s.curId=!s.curId}}}),s._v(" "),t("div",{staticClass:"agree"},[s._v("阅读并同意 "),t("router-link",{staticClass:"protocol",attrs:{to:"protocol"}},[s._v("开通相关协议")])],1),s._v(" "),t("input",{directives:[{name:"show",rawName:"v-show",value:s.sms.cardNo&&s.sms.cardNo.length>0,expression:"sms.cardNo && sms.cardNo.length > 0"}],staticClass:"btn_sure",class:{btn_false:s.isAll},attrs:{type:"button",value:"签约",disabled:s.isAll},on:{click:s.signClick}})]),s._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:s.success,expression:"success"}],staticClass:"success"},[t("div",{staticClass:"icon"}),s._v(" "),t("div",{staticClass:"tip_title"},[s._v("签约成功")]),s._v(" "),t("div",{staticClass:"btn_back",on:{click:s.back}},[s._v("返回首页")])])])},staticRenderFns:[]};var r=t("VU/8")(i,o,!1,function(s){t("D4Gl")},"data-v-1561bdf2",null);e.default=r.exports},D4Gl:function(s,e){},tSv1:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"protocol",data:function(){return{user:{},height:window.innerHeight+"px"}},created:function(){this.user=this.util.getUser()},methods:{}},i={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"main",attrs:{sytle:{height:s.height}}},[t("div",{staticClass:"wrap"},[t("h3",{staticClass:"title"},[s._v("中国工商银行“浙江省医疗保险移动支付平台”使用协议")]),s._v(" "),t("div",{staticClass:"content"},[t("p",[s._v("　　重要提示：尊敬的客户：为维护您的权益，请在签署本协议前，仔细阅读本协议各条款，特别是黑体字部分。关注您在协议中的权利、义务及责任。如您对本协议有任何疑问，请向经办行咨询。请您在自愿接受乙方按照本协议提供的服务以及充分理解本协议条款的基础上签署本协议。")]),s._v(" "),t("p",[s._v("　　甲方："+s._s(s._f("tuoMin")(s.user.idName,1,1)))]),s._v(" "),t("p",[s._v("　　乙方：中国工商银行浙江省分行")]),s._v(" "),t("p",[s._v("　　甲方和乙方本着自愿、平等的原则，经充分协商，就甲方使用乙方“浙江省医疗保险移动支付平台”线上支付其应缴费用事宜达成如下协议。")]),s._v(" "),t("p",[s._v("　　1、甲方委托乙方通过乙方电子银行向“浙江省医疗保险移动支付平台”（以下简称省医保移动支付）主动支付甲方应个人自负支付的款项。并自愿选择甲方社会保障卡金融账户（或绑定账户）作为优先账户。")]),s._v(" "),t("p",[s._v("　　2、乙方根据省省医保移动支付平台的电子交易指令，将甲方应支付的金额从甲方账户扣划至收费单位账户，甲方应对支付行为负责。乙方对于甲方与收费单位之间就费用金额产生的纠纷或因支付行为造成的损失不承担任何责任。")]),s._v(" "),t("p",[s._v("　　3、如甲方通过第三方支付方式向省医保移动支付，甲方有责任确认第三方支付机构办理支付业务的真实性，并对该支付行为负责。")]),s._v(" "),t("p",[s._v("　　4、本协议自甲方确认接受该协议后生效，至甲方注销服务时终止，但甲方在协议停止使用前向收费客户发出的所有收费指令仍为有效指令，由甲方承担责任。")])])])])},staticRenderFns:[]};var o=t("VU/8")(a,i,!1,function(s){t("vOhG")},"data-v-5d3870ea",null);e.default=o.exports},vOhG:function(s,e){}});