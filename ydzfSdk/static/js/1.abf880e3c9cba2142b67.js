webpackJsonp([1],{"1s7K":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),o=s("Gu7T"),r=s.n(o),n={name:"payList",data:function(){return{orderList:[],pageQueryReq:{},user:{},allLoaded:!0,signLevel:sessionStorage.getItem("signLevel")}},created:function(){this.pageQueryReq=this.util.getUser(),this.user=this.util.getUser(),this.pageQueryReq.state="0",this.pageQueryReq.expiration="min",this.pageQueryReq.pageSize=10,this.pageQueryReq.pageNumber=1,this.showList()},methods:{showList:function(){var e=this;this.$http.post("/msc/app/visit/pageQuery",this.pageQueryReq).then(function(t){t.success?(e.orderList=[].concat(r()(e.orderList),r()(t.body.list)),t.body.totalPage>e.pageQueryReq.pageNumber&&(e.pageQueryReq.pageNumber+=1,e.allLoaded=!1),console.log("待支付",e.orderList)):e.$messagebox.alert("查询订单列表失败："+t.message).then(function(t){e.$router.go(-1)})})},get8500:function(){var e=this,t={inData:{channelNo:sessionStorage.getItem("channelNo")||"",signNo:sessionStorage.getItem("signNo")||""}};this.$http.post("/msc/8500",t).then(function(t){t.success&&t.body?(e.signLevel=t.body.signLevel,sessionStorage.setItem("signLevel",e.signLevel),e.flag=!1):(e.flag=!1,e.$toast("暂未开通电子社保卡业务"))})},payClick:function(e){var t=this;2==this.signLevel?this.$router.push({path:"/payDetail",query:{obj:a()(e)}}):this.$messagebox.confirm("请点击电子社保卡开通缴费结算功能").then(function(){t.getSignCode()}).catch(function(){})},getSignCode:function(){var e=this,t={channelNo:sessionStorage.getItem("channelNo")||"",signNo:sessionStorage.getItem("signNo")||"",aab301:this.user.aab301,aac002:this.user.idNo,aac003:this.user.idName,busiSeq:"",aac067:this.user.aae005,returnUrl:""};this.$http.post("/msc/csb/sign",t).then(function(t){t.success?(e.signCode=t.body,e.jumpSdk()):e.$toast(t.message)})},jumpSdk:function(){var e=this,t={sign:this.signCode||""};dsBridge.call("startEsscSdk",t,function(t){(t=JSON.parse(t)).success&&(t.body.signNo&&sessionStorage.setItem("signNo",t.body.signNo),setTimeout(function(){e.get8500()},0))})},loadBottom:function(){this.allLoaded||this.showList(),this.allLoaded=!0,this.$refs.loadmore.onBottomLoaded()}}};document.body.style.background="#F2F2F2";var l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-touch",{staticClass:"wrapper",on:{swiperight:e.swiperright,swipeleft:e.swiperleft}},[s("div",{staticClass:"main"},[s("mt-loadmore",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length,expression:"orderList.length"}],ref:"loadmore",attrs:{"bottom-method":e.loadBottom,"bottom-all-loaded":e.allLoaded}},[s("ul",{staticClass:"ul_list"},e._l(e.orderList,function(t){return s("li",[s("div",{staticClass:"icon"}),e._v(" "),s("div",{staticClass:"hosp_info",on:{click:function(s){e.payClick(t)}}},[s("label",[e._v(e._s(t.hospital)+"-"+e._s(t.dept))]),e._v(" "),s("span",[e._v(e._s(t.visitTime))])]),e._v(" "),s("div",{staticClass:"pay_info"},[s("label",[s("p",[e._v("¥")]),e._v("\n            "+e._s(t.total)+"\n          ")]),e._v(" "),s("span",{staticClass:"pay_go",on:{click:function(s){e.payClick(t)}}},[e._v("去支付")])])])}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.orderList.length,expression:"!orderList.length"}],staticClass:"blank"},[s("div",{staticClass:"pic_null"}),e._v(" "),s("div",{staticClass:"tip"},[e._v("暂无待支付订单")])])],1)])},staticRenderFns:[]};var c=s("VU/8")(n,l,!1,function(e){s("B5Mi")},"data-v-eb519e14",null).exports,d={name:"payHis",created:function(){this.pageQueryReq=this.util.getUser(),this.pageQueryReq.state="1",this.pageQueryReq.pageSize=10,this.pageQueryReq.pageNumber=1,this.showList()},data:function(){return{orderList:[],pageQueryReq:{},allLoaded:!0}},methods:{showList:function(){var e=this;this.$http.post("/msc/app/visit/pageQuery",this.pageQueryReq).then(function(t){t.success?(e.orderList=[].concat(r()(e.orderList),r()(t.body.list)),t.body.totalPage>e.pageQueryReq.pageNumber?(e.pageQueryReq.pageNumber+=1,e.allLoaded=!1):e.allLoaded=!0,console.log("支付成功",e.orderList)):e.$messagebox.alert("查询订单列表失败："+t.message).then(function(t){e.$router.go(-1)})})},showDtlClick:function(e){this.$router.push({path:"/payHisDetail",query:{obj:a()(e)}})},loadBottom:function(){this.allLoaded||this.showList(),this.allLoaded=!0,this.$refs.loadmore.onBottomLoaded()}}};document.body.style.background="#F2F2F2";var u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("mt-loadmore",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length,expression:"orderList.length"}],ref:"loadmore",attrs:{"bottom-method":e.loadBottom,"bottom-all-loaded":e.allLoaded}},[s("ul",{staticClass:"ul_list"},e._l(e.orderList,function(t){return s("li",{on:{click:function(s){e.showDtlClick(t)}}},[s("div",{staticClass:"icon"}),e._v(" "),s("div",{staticClass:"hosp_info"},[s("label",[e._v(e._s(t.hospital)+"-"+e._s(t.dept))]),s("span",[e._v(e._s(t.visitTime))])]),e._v(" "),s("div",{staticClass:"pay_info"},[s("label",[s("p",[e._v("¥")]),e._v(e._s(t.total))]),s("span",[e._v("支付成功")])])])}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.orderList.length,expression:"!orderList.length"}]},[s("div",{staticClass:"pic_null"}),e._v(" "),s("div",{staticClass:"tip"},[e._v("暂无支付成功订单")])])],1)},staticRenderFns:[]};var h=s("VU/8")(d,u,!1,function(e){s("L8kP")},"data-v-5e69497e",null).exports,v={name:"payExpire",created:function(){this.pageQueryReq=this.util.getUser(),this.pageQueryReq.state="9",this.pageQueryReq.expiration="max",this.pageQueryReq.pageSize=10,this.pageQueryReq.pageNumber=1,this.showList()},data:function(){return{orderList:[],pageQueryReq:{},allLoaded:!0}},methods:{showList:function(){var e=this;this.$http.post("/msc/app/visit/pageQuery",this.pageQueryReq).then(function(t){t.success?(console.log("res",t),e.orderList=[].concat(r()(e.orderList),r()(t.body.list)),t.body.totalPage>e.pageQueryReq.pageNumber&&(e.pageQueryReq.pageNumber+=1,e.allLoaded=!1),console.log("已失效",e.orderList),console.log("res+1",t)):e.$messagebox.alert("查询订单列表失败："+t.message).then(function(t){e.$router.go(-1)})})},showDtlClick:function(e){this.$router.push({path:"/payHisDetail",query:{obj:a()(e)}})},loadBottom:function(){this.allLoaded||this.showList(),this.allLoaded=!0,this.$refs.loadmore.onBottomLoaded()}}};document.body.style.background="#F2F2F2";var m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("mt-loadmore",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length,expression:"orderList.length"}],ref:"loadmore",attrs:{"bottom-method":e.loadBottom,"bottom-all-loaded":e.allLoaded}},[s("ul",{staticClass:"ul_list"},e._l(e.orderList,function(t){return s("li",{on:{click:function(s){e.showDtlClick(t)}}},[s("div",{staticClass:"icon"}),e._v(" "),s("div",{staticClass:"hosp_info"},[s("label",[e._v(e._s(t.hospital)+"-"+e._s(t.dept))]),s("span",[e._v(e._s(t.visitTime))])]),e._v(" "),s("div",{staticClass:"pay_info"},[s("label",[s("p",[e._v("¥")]),e._v(e._s(t.total))]),s("span",[e._v("已失效")])])])}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.orderList.length,expression:"!orderList.length"}],staticClass:"blank"},[s("div",{staticClass:"pic_null"}),e._v(" "),s("div",{staticClass:"tip"},[e._v("暂无失效订单")])])],1)},staticRenderFns:[]};var p=s("VU/8")(v,m,!1,function(e){s("rdVE")},"data-v-b703b1e2",null).exports,g={name:"payRefund",created:function(){this.pageQueryReq=this.util.getUser(),this.pageQueryReq.state="3",this.pageQueryReq.pageSize=10,this.pageQueryReq.pageNumber=1,this.showList()},data:function(){return{orderList:[],pageQueryReq:{},allLoaded:!0}},methods:{showList:function(){var e=this;this.$http.post("/msc/app/visit/pageQuery",this.pageQueryReq).then(function(t){t.success?(e.orderList=[].concat(r()(e.orderList),r()(t.body.list)),t.body.totalPage>e.pageQueryReq.pageNumber&&(e.pageQueryReq.pageNumber+=1,e.allLoaded=!1),console.log("已退款",e.orderList)):e.$messagebox.alert("查询订单列表失败："+t.message).then(function(t){e.$router.go(-1)})})},showDtlClick:function(e){this.$router.push({path:"/payHisDetail",query:{obj:a()(e)}})},loadBottom:function(){this.allLoaded||this.showList(),this.allLoaded=!0,this.$refs.loadmore.onBottomLoaded()}}};document.body.style.background="#F2F2F2";var f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("mt-loadmore",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length,expression:"orderList.length"}],ref:"loadmore",attrs:{"bottom-method":e.loadBottom,"bottom-all-loaded":e.allLoaded}},[s("ul",{staticClass:"ul_list"},e._l(e.orderList,function(t){return s("li",{on:{click:function(s){e.showDtlClick(t)}}},[s("div",{staticClass:"icon"}),e._v(" "),s("div",{staticClass:"hosp_info"},[s("label",[e._v(e._s(t.hospital)+"-"+e._s(t.dept))]),e._v(" "),s("span",[e._v(e._s(t.visitTime))])]),e._v(" "),s("div",{staticClass:"pay_info"},[s("label",[s("p",[e._v("¥")]),e._v("\n            "+e._s(t.total)+"\n          ")]),e._v(" "),s("span",[e._v("已退款")])])])}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.orderList.length,expression:"!orderList.length"}],staticClass:"blank"},[s("div",{staticClass:"pic_null"}),e._v(" "),s("div",{staticClass:"tip"},[e._v("暂无退款订单")])])],1)},staticRenderFns:[]};var b=s("VU/8")(g,f,!1,function(e){s("7vqU")},"data-v-4868bed8",null).exports,y={name:"payFail",created:function(){this.pageQueryReq=this.util.getUser(),this.pageQueryReq.state="9",this.pageQueryReq.pageSize=10,this.pageQueryReq.pageNumber=1,this.showList()},data:function(){return{orderList:[],pageQueryReq:{},allLoaded:!0}},methods:{showList:function(){var e=this;this.$http.post("/msc/app/visit/pageQuery",this.pageQueryReq).then(function(t){t.success?(e.orderList=[].concat(r()(e.orderList),r()(t.body.list)),t.body.totalPage>e.pageQueryReq.pageNumber?(e.pageQueryReq.pageNumber+=1,e.allLoaded=!1):e.allLoaded=!0,console.log("已作废",e.orderList)):e.$messagebox.alert("查询订单列表失败："+t.message).then(function(t){e.$router.go(-1)})})},showDtlClick:function(e){this.$router.push({path:"/payHisDetail",query:{obj:a()(e)}})},loadBottom:function(){this.allLoaded||this.showList(),this.allLoaded=!0,this.$refs.loadmore.onBottomLoaded()}}};document.body.style.background="#F2F2F2";var A={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("mt-loadmore",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length,expression:"orderList.length"}],ref:"loadmore",attrs:{"bottom-method":e.loadBottom,"bottom-all-loaded":e.allLoaded}},[s("ul",{staticClass:"ul_list"},e._l(e.orderList,function(t){return s("li",{on:{click:function(s){e.showDtlClick(t)}}},[s("div",{staticClass:"icon"}),e._v(" "),s("div",{staticClass:"hosp_info"},[s("label",[e._v(e._s(t.hospital)+"-"+e._s(t.dept))]),s("span",[e._v(e._s(t.visitTime))])]),e._v(" "),s("div",{staticClass:"pay_info"},[s("label",[s("p",[e._v("¥")]),e._v(e._s(t.total))]),s("span",[e._v("支付失败")])])])}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.orderList.length,expression:"!orderList.length"}],staticClass:"blank"},[s("div",{staticClass:"pic_null"}),e._v(" "),s("div",{staticClass:"tip"},[e._v("暂无失败订单")])])],1)},staticRenderFns:[]};var C={name:"payOrder",components:{payList:c,historyList:h,expireList:p,refund:b,payFail:s("VU/8")(y,A,!1,function(e){s("TozF")},"data-v-56e01146",null).exports},data:function(){return{selected:"",height:window.innerHeight-49+"px"}},created:function(){sessionStorage.setItem("medicalIndex",!0);var e=sessionStorage.getItem("itemPage")||this.$route.query.itemPage;e?(sessionStorage.setItem("itemPage",e),this.selected=e):this.selected="PayList"},methods:{swiperleft:function(){"payList"!=this.selected?"historyList"!=this.selected?"refund"!=this.selected?"expireList"!=this.selected||(this.selected="payFail"):this.selected="expireList":this.selected="refund":this.selected="historyList"},swiperright:function(){"historyList"!=this.selected?"refund"!=this.selected?"expireList"!=this.selected?"payFail"!=this.selected||(this.selected="expireList"):this.selected="refund":this.selected="historyList":this.selected="payList"}},watch:{selected:function(e){sessionStorage.setItem("itemPage",e)}}},w={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-touch",{staticClass:"wrapper",on:{swipeleft:e.swiperleft,swiperight:e.swiperright}},[s("div",{staticClass:"main"},[s("mt-navbar",{attrs:{fixed:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[s("mt-tab-item",{attrs:{id:"payList"}},[e._v("待支付")]),e._v(" "),s("mt-tab-item",{attrs:{id:"historyList"}},[e._v("支付成功")]),e._v(" "),s("mt-tab-item",{attrs:{id:"refund"}},[e._v("退款记录")]),e._v(" "),s("mt-tab-item",{attrs:{id:"expireList"}},[e._v("已失效")]),e._v(" "),s("mt-tab-item",{attrs:{id:"payFail"}},[e._v("支付失败")])],1),e._v(" "),s("div",{staticClass:"pay-list",style:{height:e.height}},[s("mt-tab-container",[s("mt-tab-container-item",[s(e.selected,{tag:"component"})],1)],1)],1)],1)])},staticRenderFns:[]};var _=s("VU/8")(C,w,!1,function(e){s("tXPj")},"data-v-db64b570",null);t.default=_.exports},"28KL":function(e,t){e.exports="data:image/png;base64,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"},"5i9Z":function(e,t){},"7vqU":function(e,t){},"9Szy":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("b3Rb"),a={name:"hint-open",data:function(){return{showSwitch:!1}},watch:{showSwitch:function(){!1===this.showSwitch?localStorage.setItem("ShowFreeCodePay",!0):localStorage.setItem("ShowFreeCodePay",!1)}},props:{isShow:Boolean},methods:{openNow:function(){this.$router.push("/agreeOpen")},closeHint:function(){this.$emit("closeHint")}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isShow?i("div",{staticClass:"hint-open"},[i("div",{staticClass:"hint-content"},[i("div",{staticClass:"hint-head"},[e._v("开通免密支付")]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),i("div",{staticClass:"open-btn",on:{click:function(t){e.openNow()}}},[e._v("立即开通")]),e._v(" "),i("div",{staticClass:"switch-content"},[i("span",[e._v("不再提示")]),e._v(" "),i("mt-switch",{model:{value:e.showSwitch,callback:function(t){e.showSwitch=t},expression:"showSwitch"}})],1)]),e._v(" "),i("div",{staticClass:"close-btn"},[i("img",{attrs:{src:s("ftUE")},on:{click:function(t){e.closeHint()}}})])]):e._e()},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hint-msg"},[t("div",{staticClass:"title"},[this._v("免密条件")]),this._v(" "),t("div",{staticClass:"text"},[this._v("自费费用小于等于500元，即刻扣款")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hint-msg"},[t("div",{staticClass:"title"},[this._v("免密支付渠道")]),this._v(" "),t("div",{staticClass:"text"},[this._v("目前支持：社保卡银行账户、银联云闪付")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hint-msg"},[t("div",{staticClass:"title"},[this._v("生效时间")]),this._v(" "),t("div",{staticClass:"text"},[this._v("开通后即刻生效")])])}]};var r=s("VU/8")(a,o,!1,function(e){s("ZVFF")},"data-v-a348c3ca",null).exports,n=s("oFuF"),l={components:{hintOpen:r},data:function(){return{payOrder:{},success:this.$route.query.paySuccess,payMessage:this.$route.query.payMessage,isShow:!0}},created:function(){if(this.payOrder=i.a.getOrder(),this.payOrder.orderNo){this.$route.query.paySuccess&&i.a.resetOrder();var e=n.a.getUser();if(console.log(e),1==e.bae027)this.isShow=!1;else{var t=localStorage.getItem("ShowFreeCodePay");this.isShow="false"!==t&&!1!==t&&"null"!==t}}else{sessionStorage.getItem("medicalIndex")||""||(!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.close.postMessage("yes"):dsBridge.call("close",""))}},mounted:function(){if(!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)||window.EPSdk.notify('{"code":"order","value":"回调成功"}'),sessionStorage.getItem("medicalIndex")||""){var e=this;dsBridge.register("goWebBack",function(){return e.$router.push("/"),!0}),window.goWebBack=function(){return e.$router.push("/"),!0}}else dsBridge.register("goWebBack",function(){return!1}),window.goWebBack=function(){return!1}},methods:{goBack:function(){sessionStorage.getItem("medicalIndex")||""?this.$router.push("/"):!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.close.postMessage("yes"):dsBridge.call("close","")},closeHint:function(){this.isShow=!1}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.success,expression:"success"}],staticClass:"success"},[s("div",{staticClass:"upper"},[s("div",{staticClass:"icon"}),e._v(" "),s("div",{staticClass:"tip_title"},[e._v("支付成功")]),e._v(" "),s("div",{staticClass:"btn_back",on:{click:e.goBack}},[e._v("返回首页")])]),e._v(" "),s("div",{staticClass:"lower"},[s("div",{staticClass:"title border_bottom"},[s("label",[e._v("付款金额")]),e._v(" "),s("span",[e._v("¥"+e._s(e.payOrder.amount))])]),e._v(" "),s("ul",{staticClass:"payment"},[s("li",[s("label",[e._v("订单编号")]),e._v(" "),s("span",[e._v(e._s(e.payOrder.orderNo))])]),e._v(" "),s("li",[s("label",[e._v("支付方式")]),e._v(" "),s("span",[e._v(e._s(e._f("transPayMode")(e.payOrder.payModel)))])]),e._v(" "),s("li",[s("label",[e._v("总金额")]),e._v(" "),s("span",[e._v(e._s(e.payOrder.totalAmount)+"元")])]),e._v(" "),s("li",[s("label",[e._v("医保支付")]),e._v(" "),s("span",[e._v(e._s(e.payOrder.fundAmount)+"元")])])])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.success,expression:"!success"}],staticClass:"fail"},[s("div",{staticClass:"upper"},[s("div",{staticClass:"icon"}),e._v(" "),s("div",{staticClass:"tip_title"},[e._v("支付失败")]),e._v(" "),s("p",{staticClass:"tip_title_p"},[e._v(" 如发生扣费，系统将自动退回")]),e._v(" "),s("div",{staticClass:"btn_back",on:{click:e.goBack}},[e._v("返回首页")])])]),e._v(" "),s("hintOpen",{attrs:{isShow:e.isShow,visible:""},on:{closeHint:function(t){e.closeHint()}}})],1)},staticRenderFns:[]};var d=s("VU/8")(l,c,!1,function(e){s("fSh/")},"data-v-4d203762",null);t.default=d.exports},Af1v:function(e,t){},B5Mi:function(e,t){},CTl9:function(e,t){},HhYn:function(e,t){e.exports="data:image/png;base64,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"},L8kP:function(e,t){},"P+Kx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),o=s("b3Rb"),r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"keyboard"},[s("div",{staticClass:"input"},[e._v(e._s(e.codeNum))]),e._v(" "),s("table",{attrs:{cellspacing:"0",cellpadding:"0"}},[s("tr",[s("td",{on:{click:function(t){e.chooseNum("1")}}},[e._v("1")]),e._v(" "),s("td",{on:{click:function(t){e.chooseNum("2")}}},[e._v("2")]),e._v(" "),s("td",{on:{click:function(t){e.chooseNum("3")}}},[e._v("3")])]),e._v(" "),s("tr",[s("td",{on:{click:function(t){e.chooseNum("4")}}},[e._v("4")]),e._v(" "),s("td",{on:{click:function(t){e.chooseNum("5")}}},[e._v("5")]),e._v(" "),s("td",{on:{click:function(t){e.chooseNum("6")}}},[e._v("6")])]),e._v(" "),s("tr",[s("td",{on:{click:function(t){e.chooseNum("7")}}},[e._v("7")]),e._v(" "),s("td",{on:{click:function(t){e.chooseNum("8")}}},[e._v("8")]),e._v(" "),s("td",{on:{click:function(t){e.chooseNum("9")}}},[e._v("9")])]),e._v(" "),s("tr",[s("td",{staticClass:"td_bg"}),e._v(" "),s("td",{on:{click:function(t){e.chooseNum("0")}}},[e._v("0")]),e._v(" "),s("td",{staticClass:"delete",on:{click:function(t){e.chooseNum("delete")}}})])])])},staticRenderFns:[]};var n=s("VU/8")({name:"ep-keyboard",props:["value"],data:function(){return{codeNum:""}},created:function(){},watch:{value:function(e,t){this.codeNum=e}},methods:{chooseNum:function(e){this.codeNum="delete"!=e?this.codeNum+e:this.codeNum.substring(0,this.codeNum.length-1),this.$emit("input",this.codeNum)}}},r,!1,function(e){s("CTl9")},"data-v-9550cda8",null).exports;var l={name:"mt-cell",props:{to:[String,Object],icon:String,title:String,label:String,isLink:Boolean,value:{}},computed:{href:function(){var e=this;if(this.to&&!this.added&&this.$router){var t=this.$router.match(this.to);return t.matched.length?(this.$nextTick(function(){e.added=!0,e.$el.addEventListener("click",e.handleClick)}),t.fullPath||t.path):this.to}return this.to}},methods:{handleClick:function(e){e.preventDefault(),this.$router.push(this.href)}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"mint-cell",attrs:{href:e.href}},[e.isLink?s("span",{staticClass:"mint-cell-mask"}):e._e(),e._v(" "),s("div",{staticClass:"mint-cell-left"},[e._t("left")],2),e._v(" "),s("div",{staticClass:"mint-cell-wrapper"},[s("div",{staticClass:"mint-cell-title"},[e._t("icon",[e.icon?s("i",{staticClass:"mintui",class:"mintui-"+e.icon}):e._e()]),e._v(" "),e._t("title",[s("span",{staticClass:"mint-cell-text",domProps:{textContent:e._s(e.title)}}),e._v(" "),e.label?s("span",{staticClass:"mint-cell-label",domProps:{textContent:e._s(e.label)}}):e._e()])],2),e._v(" "),s("div",{staticClass:"mint-cell-value",class:{"is-link":e.isLink}},[e._t("default",[s("span",{domProps:{textContent:e._s(e.value)}})])],2),e._v(" "),e.isLink?s("i",{staticClass:"mint-cell-allow-right"}):e._e()]),e._v(" "),s("div",{staticClass:"mint-cell-right"},[e._t("right")],2)])},staticRenderFns:[]};var d=s("VU/8")(l,c,!1,function(e){s("j6wK")},null,null).exports;var u={name:"ep-radio",props:{title:String,align:String,options:{type:Array,required:!0},defaultVal:String},data:function(){return{currentValue:this.defaultVal}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e)}},components:{XCell:d}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mint-radiolist",on:{change:function(t){e.$emit("change",e.currentValue)}}},[s("label",{staticClass:"mint-radiolist-title",domProps:{textContent:e._s(e.title)}}),e._v(" "),e._l(e.options,function(t){return s("x-cell",{key:e.options.value},[s("img",{attrs:{slot:"icon",src:t.imgUrl,width:"24",height:"24"},slot:"icon"}),e._v(" "),s("label",{staticClass:"mint-radiolist-label",attrs:{slot:"title"},slot:"title"},[s("span",{staticClass:"mint-radio",class:{"is-right":"right"===e.align}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"mint-radio-input",attrs:{type:"radio",disabled:t.disabled},domProps:{value:t.value||t,checked:e._q(e.currentValue,t.value||t)},on:{change:function(s){e.currentValue=t.value||t}}}),e._v(" "),s("span",{staticClass:"mint-radio-core"})]),e._v(" "),s("span",{staticClass:"mint-radio-label",domProps:{textContent:e._s(t.label||t)}})])])})],2)},staticRenderFns:[]};var v={name:"payConfirm",components:{EpKeyboard:n,EpRadio:s("VU/8")(u,h,!1,function(e){s("wjNl")},null,null).exports},data:function(){return{payOrder:{},ePayRes:{},signInfo:{},popupVisible:!1,items:[],List:[],sendAuthCode:!0,authTime:0,modelShow:!1,flag:!1,authTimetimer:"",user:this.util.getUser()}},created:function(){var e=this;console.log("payConfirm"),this.payOrder=o.a.getOrder(),this.payOrder||this.payOrder.id?0===this.payOrder.amount&&this.sattlement():this.$messagebox.alert("未获取到支付订单信息").then(function(t){sessionStorage.getItem("medicalIndex")||""?e.$router.push("/"):!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.close.postMessage("yes"):dsBridge.call("close","")}),this.payOrder.payModel="1",console.log("payOrder",this.payOrder),console.log("user",this.user),this.getUserCard(),this.aaafetchValidCode11()},methods:{getUserCard:function(){var e=this,t={};this.$http.post("/msc/user/get",this.user).then(function(s){s.success?(t.cardNo=s.body.cardNo,t.idNo=s.body.idNo,e.payOrder.agreementInfo=t):e.$toast({message:"获取社保卡金融账户信息失败！",duiation:1e3})})},confirmClick:function(){var e=this;if(!this.flag)if(this.flag=!0,setTimeout(function(){e.flag=!1},3e3),"0"!==this.payOrder.payModel){var t=this;this.$http.post("/mpc/pay/createOrder",this.payOrder).then(function(s){if(o.a.updateOrder("payModel",t.payOrder.payModel),s.success){if("1"==t.payOrder.payModel)o.a.updateOrder("agreementInfo",s.body.agreementInfo),"2"==s.body.payAuthMode?t.popupVisible=!0:t.cardPay(t.payOrder);else if("8"==t.payOrder.payModel){var i=a()(s.body);dsBridge.call("wechatPay",i,function(s){(s=JSON.parse(s)).success?t.$router.push({path:"checkPayresult",query:{id:e.payOrder.id}}):(t.payFaildAndReOrder(),t.$toast({message:"支付失败："+s.message,duiation:1e3}),t.flag=!1)})}else if("9"==t.payOrder.payModel){var r=a()(s.body);dsBridge.call("aliPay",r,function(s){(s=JSON.parse(s)).success?t.$router.push({path:"checkPayresult",query:{id:e.payOrder.id}}):(t.payFaildAndReOrder(),t.$toast({message:"支付失败："+s.message,duiation:1e3}),t.flag=!1)})}else if("5"==t.payOrder.payModel){var n=a()(s.body);dsBridge.call("unionPay",n,function(s){(s=JSON.parse(s)).success?t.$router.push({path:"checkPayresult",query:{id:e.payOrder.id}}):(t.payFaildAndReOrder(),t.$toast({message:"支付失败："+s.message,duiation:1e3}),t.flag=!1)})}}else{if(t.flag=!1,"B0350"==s.code||"E001"==s.code||"B0351"==s.code)return void t.$router.push("/sign");t.reOrder(),t.$toast({message:"下单失败："+s.message,duiation:1e3})}})}else this.sattlement()},aaafetchValidCode11:function(){var e=this;this.$http.post("http://115.236.191.153:9090/msc/app/order/"+this.payOrder.visitId).then(function(t){t&&(console.log("res",t),console.log("kb05List",t.body.kb05List),e.List=t.body.kb05List,e.items=e.List.map(function(e){var t={value:e.akb040,imgUrl:"",label:""};return 1==e.akb040&&(t.label="社保卡银行账号（工行）",t.imgUrl=s("28KL")),5==e.akb040&&(t.label="银联云闪付",t.imgUrl=s("j5ZW")),8==e.akb040&&(t.label="微信支付",t.imgUrl=s("HhYn")),9==e.akb040&&(t.label="支付宝支付",t.imgUrl=s("fJtj")),0==e.akb040&&(t.label="其他",t.imgUrl=s("UAAL")),t}))})},fetchValidCode:function(){var e=this;this.$http.post("/mpc/pay/getPayCode",this.payOrder).then(function(t){t.success?(e.sendAuthCode=!1,e.authTime=60,e.authTimetimer=setInterval(function(){e.authTime--,e.authTime<=0&&(e.sendAuthCode=!0,clearInterval(e.authTimetimer))},1e3)):e.$messagebox.alert("获取验证码失败："+t.message)})},cardPay:function(e,t){var s=this;!t||e.validCode?(this.popupVisible=!1,this.modelShow=!0,this.$http.post("/mpc/pay/unified",e).then(function(t){if(!t.success){if("B0350"==t.code||"E001"==t.code||"B0351"==t.code)return void s.$router.push("/sign");if("B0451"==t.code||"B0461"==t.code||"B0460"==t.code)return s.modelShow=!1,void s.$messagebox.alert(t.message).then(function(){e.validCode="",s.popupVisible=!0,s.sendAuthCode=!0,clearInterval(s.authTimetimer)})}s.$router.push({path:"checkPayresult",query:{id:s.payOrder.id}})})):this.$messagebox.alert("请输入验证码")},sattlement:function(){var e=this;this.ePayRes.payAmount="0";var t="/msc/app/settle/order/"+this.payOrder.orderNo;this.$http.post(t,this.ePayRes).then(function(t){t.success?e.$router.push({path:"checkPayresult",query:{id:e.payOrder.id}}):e.$messagebox.alert("订单结算失败："+t.message)})},payFaildAndReOrder:function(){var e=this,t="/msc/app/reorder/"+this.payOrder.visitId;this.$http.post(t,e.payOrder.orderNo).then(function(t){t.success&&(e.payOrder.orderNo=t.body.order.orderNo)}).catch(function(e){JSON.parse(a()(e))})},reOrder:function(){var e=this;this.$http.post("/msc/app/order/"+this.payOrder.visitId).then(function(t){t.success?e.payOrder.orderNo=t.body.order.orderNo:e.$messagebox.alert(t.message).then(function(t){sessionStorage.getItem("medicalIndex")||""?e.$router.push("/"):!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.close.postMessage("yes"):dsBridge.call("close","")})})}}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("div",{staticStyle:{width:"100%","background-color":"#ffffff"}},[s("ul",{staticClass:"payment"},[s("li",{staticClass:"border_bottom"},[s("label",[e._v("个人支付金额：")]),e._v(" "),s("span",{staticClass:"text_color"},[e._v("\n          ¥\n          "),s("b",[e._v(e._s(e.payOrder.amount))])])]),e._v(" "),s("li",[s("label",[e._v("收款方：")]),e._v(" "),s("span",[e._v(e._s(e.payOrder.hosName))])])])]),e._v(" "),s("ep-radio",{attrs:{align:"right",title:"选择支付方式",options:e.items,defaultVal:"1"},model:{value:e.payOrder.payModel,callback:function(t){e.$set(e.payOrder,"payModel",t)},expression:"payOrder.payModel"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.payOrder.amount&&e.payOrder.amount>0,expression:"payOrder.amount && payOrder.amount > 0"}],staticClass:"btn_sure",on:{click:e.confirmClick}},[e._v("确定")]),e._v(" "),s("mt-popup",{staticClass:"pop",attrs:{position:"bottom"},model:{value:e.popupVisible,callback:function(t){e.popupVisible=t},expression:"popupVisible"}},[s("div",{staticClass:"pophead border_bottom"},[s("ul",[s("li",[s("i",{on:{click:function(t){e.popupVisible=!1}}})]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:e.sendAuthCode,expression:"sendAuthCode"}]},[s("span",{on:{click:e.fetchValidCode}},[e._v("获取验证码")])]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:!e.sendAuthCode,expression:"!sendAuthCode"}]},[e._v(e._s(e.authTime)+"秒之后重发")]),e._v(" "),s("li",[s("span",{on:{click:function(t){e.cardPay(e.payOrder,!0)}}},[e._v("确认")])])])]),e._v(" "),s("ep-keyboard",{model:{value:e.payOrder.validCode,callback:function(t){e.$set(e.payOrder,"validCode",t)},expression:"payOrder.validCode"}})],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.modelShow,expression:"modelShow"}],staticClass:"model"})],1)},staticRenderFns:[]};var p=s("VU/8")(v,m,!1,function(e){s("QMAc")},"data-v-42ccb97c",null);t.default=p.exports},QMAc:function(e,t){},TozF:function(e,t){},UAAL:function(e,t){e.exports="data:image/png;base64,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"},ZVFF:function(e,t){},"bG3/":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={name:"payDetail",data:function(){return{item:{},itemResults:[],settleResult:{},order:{},displayName:"查看更多",showMore:!1}},created:function(){var e=this;console.log("payhistorydetail"),this.item=JSON.parse(this.$route.query.obj),this.item&&this.item.id?(console.log("item",this.item),this.getList()):this.$messagebox.alert("未获取到支付订单信息").then(function(t){e.$router.push("/")})},methods:{getList:function(){var e=this;this.$http.post("/msc/app/history/"+this.item.id).then(function(t){t.success?(t.body.order&&(e.order=t.body.order),t.body.itemResults&&(e.itemResults=t.body.itemResults),t.body.settleResult&&(e.settleResult=t.body.settleResult)):e.$messagebox.alert(t.message).then(function(t){e.$router.go(-1)})})},showMoreClick:function(){this.showMore=!this.showMore,this.showMore?this.displayName="隐藏":this.displayName="查看更多"}}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("div",{staticClass:"order_detail"},[s("div",{staticClass:"title"},[e._v(e._s(e.item.hospital)+"-"+e._s(e.item.dept))]),e._v(" "),s("ul",[s("li",[s("label",[e._v("就诊人：")]),s("span",[e._v(e._s(e._f("tuoMin")(e.order.name,1,1)))])]),e._v(" "),s("li",[s("label",[e._v("社保卡号：")]),s("span",[e._v(e._s(e._f("tuoMin")(e.order.card,3,3)))])]),e._v(" "),s("li",[s("label",[e._v("开方医生：")]),s("span",[e._v(e._s(e.item.doctor))])])]),e._v(" "),s("table",{staticClass:"border_top",attrs:{cellpadding:"0",cellspacing:"0"}},[e._m(0),e._v(" "),e._l(e.itemResults,function(t,i){return s("tr",{directives:[{name:"show",rawName:"v-show",value:i<=1||i>=2&&e.showMore,expression:"index <= 1 || (index >= 2 && showMore)"}]},[s("td",[e._v(e._s(t.name)+" ")]),e._v(" "),s("td",[e._v(e._s(e._f("fixedNumber")(t.money)))]),e._v(" "),s("td",[e._v(e._s(t.num))]),e._v(" "),s("td",[e._v(e._s(e._f("fixedNumber")(t.selfCareExpense+t.selfExpense+t.overrun)))])])})],2),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.itemResults.length>2,expression:"itemResults.length > 2"}],staticClass:"lookMore",on:{click:e.showMoreClick}},[e._v(e._s(e.displayName))])]),e._v(" "),s("div",[s("ul",{staticClass:"payment"},[s("li",{staticClass:"border_bottom"},[s("label",[e._v("结算总金额：")]),s("span",[e._v("¥"),s("b",[e._v(e._s(e._f("fixedNumber")(e.order.totalAmount)))])])]),e._v(" "),s("li",{staticClass:"border_bottom"},[s("label",[e._v("医保支付：")]),s("span",[e._v("¥"),s("b",[e._v(e._s(e._f("fixedNumber")(e.order.fundAmount)))])])]),e._v(" "),s("li",{staticClass:"border_bottom"},[s("label",[e._v("个人支付：")]),s("span",{staticClass:"text_color"},[e._v("¥"),s("b",[e._v(e._s(e._f("fixedNumber")(e.order.amount)))])])]),e._v(" "),s("li",[s("label",[e._v("支付方式：")]),s("span",[e._v(e._s(e._f("transPayMode")(e.order.payModel)))])])]),e._v(" "),s("ul",{staticClass:"time sp_color"},[s("li",{staticClass:"border_bottom"},[s("label",[e._v("订单状态：")]),s("span",{class:{text_color:"4"==e.order.state}},[e._v(e._s(e._f("transPayState")(e.order.state)))])]),e._v(" "),s("li",{staticClass:"border_bottom"},[s("label",[e._v("订单编号：")]),s("span",[e._v(e._s(e.order.orderNo))])]),e._v(" "),s("li",{staticClass:"border_bottom"},[s("label",[e._v("下单时间：")]),s("span",[e._v(e._s(e._f("formatTime")(e.order.orderTime)))])]),e._v(" "),s("li",{staticClass:"border_bottom"},[s("label",[e._v("支付时间：")]),s("span",[e._v(e._s(e._f("formatTime")(e.order.payTime)))])]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:"4"==e.order.state,expression:"order.state == '4'"}]},[s("label",[e._v("退款时间：")]),s("span",[e._v(e._s(e._f("formatTime")(e.order.refundTime)))])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("tr",{staticClass:"line"},[t("td",{staticClass:"border_bottom"},[this._v("项目/规格类")]),this._v(" "),t("td",{staticClass:"border_bottom"},[this._v("金额（元）")]),this._v(" "),t("td",{staticClass:"border_bottom"},[this._v("数量")]),this._v(" "),t("td",{staticClass:"border_bottom"},[this._v("自理自费（元)")])])}]};var o=s("VU/8")(i,a,!1,function(e){s("Af1v")},"data-v-e885f49a",null);t.default=o.exports},bwhX:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),o=s("b3Rb"),r={name:"payDetail",data:function(){return{id:"",user:this.util.getUser(),item:{},itemResults:[],settleResult:{},order:{},displayName:"查看更多",showMore:!1,signInfo:{},pwdRet:"",signCode:""}},created:function(){var e=this;console.log("paydetail"),this.item=JSON.parse(this.$route.query.obj),this.item||this.item.id?this.getList():this.$messagebox.alert("未获取到支付订单信息").then(function(t){sessionStorage.getItem("medicalIndex")||""?e.$router.push("/"):!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.close.postMessage("yes"):dsBridge.call("close","")}),console.log("item",this.item),console.log("user",this.user)},mounted:function(){sessionStorage.getItem("medicalIndex")||""||(dsBridge.register("goWebBack",function(){return!1}),window.goWebBack=function(){return!1})},methods:{getList:function(){var e=this;this.$http.post("/msc/app/order/"+this.item.id).then(function(t){t.success?(e.order=t.body.order,e.itemResults=t.body.itemResults,e.settleResult=t.body.settleResult):e.$messagebox.alert(t.message).then(function(t){sessionStorage.getItem("medicalIndex")||""?e.$router.push("/"):!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.close.postMessage("yes"):dsBridge.call("close","")})})},generateUUID:function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxx".replace(/[xy]/g,function(t){var s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?s:3&s|8).toString(16)})},getSignCode:function(){var e=this;if("1"==this.util.getUser().bae027){var t=this.generateUUID();this.order.token=t,this.order.hosName=this.item.hospital,this.order.amount=this.settleResult.cash,this.order.visitId=this.item.id,this.order.hosCode=this.order.merchant,o.a.setOrder(this.order),this.signInfo.aac002=this.user.idNo,this.signInfo.channelNo=sessionStorage.getItem("channelNo"),this.signInfo.busiSeq=t,this.signInfo.signNo=sessionStorage.getItem("signNo"),this.signInfo.bae027="1",console.log("signInfo",this.signInfo),this.saveToken(this.signInfo)}else{var s={channelNo:sessionStorage.getItem("channelNo")||"",signNo:sessionStorage.getItem("signNo")||"",aab301:this.user.aab301,aac002:this.user.idNo,aac003:this.user.idName,busiSeq:"",aac067:this.user.aae005,returnUrl:""};this.$http.post("/msc/csb/sign",s).then(function(t){t.success?(e.signCode=t.body,e.orderClickCsb()):e.$toast(t.message)})}},orderClickCsb:function(){var e=this,t=this,s={sign:this.signCode||""};dsBridge.call("validatePwd",s,function(s){(s=JSON.parse(s)).success?(t.order.token=s.body.busiSeq,t.order.hosName=t.item.hospital,t.order.amount=t.settleResult.cash,t.order.visitId=t.item.id,t.order.hosCode=t.order.merchant,o.a.setOrder(t.order),t.signInfo.aac002=t.user.idNo,t.signInfo.channelNo=sessionStorage.getItem("channelNo"),t.signInfo.signNo=sessionStorage.getItem("signNo"),t.signInfo.busiSeq=s.body.busiSeq,e.signInfo.bae027="0",t.saveToken(t.signInfo)):t.$messagebox.alert(s.message)})},showMoreClick:function(){this.showMore=!this.showMore,this.showMore?this.displayName="隐藏":this.displayName="查看更多"},saveToken:function(e){var t=this;console.log("saveToken",e),this.$http.post("/msc/csb/savetoken",e).then(function(e){console.log("res",e),e.success?t.$router.push("/payConfirm"):t.$messagebox.alert("密码验证失败："+e.message).then(function(){sessionStorage.getItem("medicalIndex")||""?t.$router.push("/"):!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.close.postMessage("yes"):dsBridge.call("close","")})}).catch(function(e){var s=a()(e),i=JSON.parse(s);t.$messagebox.alert("密码验证失败："+i.response.data.message).then(function(){sessionStorage.getItem("medicalIndex")||""?t.$router.push("/"):!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.close.postMessage("yes"):dsBridge.call("close","")})})}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("div",{staticClass:"order_detail"},[s("div",{staticClass:"title"},[e._v(e._s(e.item.hospital)+"-"+e._s(e.item.dept))]),e._v(" "),s("ul",[s("li",[s("label",[e._v("就诊人：")]),e._v(" "),s("span",[e._v(e._s(e._f("tuoMin")(e.order.name,1,1)))])]),e._v(" "),s("li",[s("label",[e._v("社保卡号：")]),e._v(" "),s("span",[e._v(e._s(e._f("tuoMin")(e.order.card,3,3)))])]),e._v(" "),s("li",[s("label",[e._v("开方医生：")]),e._v(" "),s("span",[e._v(e._s(e.item.doctor))])])]),e._v(" "),s("table",{staticClass:"border_top",attrs:{cellpadding:"0",cellspacing:"0"}},[e._m(0),e._v(" "),e._l(e.itemResults,function(t,i){return s("tr",{directives:[{name:"show",rawName:"v-show",value:i<=1||i>=2&&e.showMore,expression:"index <= 1 || (index >= 2 && showMore)"}]},[s("td",[e._v(e._s(t.name))]),e._v(" "),s("td",[e._v(e._s(e._f("fixedNumber")(t.money)))]),e._v(" "),s("td",[e._v(e._s(t.num))]),e._v(" "),s("td",[e._v(e._s(e._f("fixedNumber")(t.selfCareExpense+t.selfExpense+t.overrun)))])])})],2),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.itemResults.length>2,expression:"itemResults.length > 2"}],staticClass:"lookMore",on:{click:e.showMoreClick}},[e._v(e._s(e.displayName))])]),e._v(" "),s("div",[s("ul",{staticClass:"payment"},[s("li",{staticClass:"border_bottom"},[s("label",[e._v("结算总金额：")]),e._v(" "),s("span",[e._v("\n          ¥\n          "),s("b",[e._v(e._s(e._f("fixedNumber")(e.settleResult.total)))])])]),e._v(" "),s("li",{staticClass:"border_bottom"},[s("label",[e._v("医保支付：")]),e._v(" "),s("span",[e._v("\n          ¥\n          "),s("b",[e._v(e._s(e._f("fixedNumber")(e.settleResult.fundTotal)))])])]),e._v(" "),s("li",[s("label",[e._v("个人支付：")]),e._v(" "),s("span",{staticClass:"text_color"},[e._v("\n          ¥\n          "),s("b",[e._v(e._s(e._f("fixedNumber")(e.settleResult.cash)))])])])]),e._v(" "),s("ul",{staticClass:"time"},[s("li",[s("label",[e._v("下单时间：")]),e._v(" "),s("span",[e._v(e._s(e._f("formatTime")(e.order.orderTime)))])])]),e._v(" "),s("div",{staticClass:"foot"},[s("div",{staticClass:"price border_top"},[e._v("\n        支付金额：\n        "),s("span",[e._v("¥")]),e._v(" "),s("label",[e._v(e._s(e._f("fixedNumber")(e.settleResult.cash)))])]),e._v(" "),s("div",{on:{click:function(t){e.getSignCode()}}},[e._v("立即支付")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("tr",{staticClass:"line"},[t("td",{staticClass:"border_bottom"},[this._v("项目/规格类")]),this._v(" "),t("td",{staticClass:"border_bottom"},[this._v("金额（元）")]),this._v(" "),t("td",{staticClass:"border_bottom"},[this._v("数量")]),this._v(" "),t("td",{staticClass:"border_bottom"},[this._v("自理自费（元)")])])}]};var l=s("VU/8")(r,n,!1,function(e){s("5i9Z")},"data-v-8fd13634",null);t.default=l.exports},fJtj:function(e,t){e.exports="data:image/png;base64,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"},"fSh/":function(e,t){},ftUE:function(e,t){e.exports="data:image/png;base64,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"},j5ZW:function(e,t,s){e.exports=s.p+"static/img/icon-unionpay.270a9ca.png"},j6wK:function(e,t){},lrbL:function(e,t){},qhe3:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),o=s("Gu7T"),r=s.n(o);!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)||window.EPSdk.subscribe("order");var n={name:"orderList",data:function(){return{orderList:[],pageQueryReq:{},user:{},allLoaded:!0,signLevel:sessionStorage.getItem("signLevel")}},beforeCreate:function(){console.log(123)},created:function(){this.pageQueryReq=this.util.getUser(),this.user=this.util.getUser(),this.pageQueryReq.state="0",this.pageQueryReq.expiration="min",this.pageQueryReq.pageSize=10,this.pageQueryReq.pageNumber=1},mounted:function(){console.log("pageQueryReq",this.pageQueryReq),this.showList()},methods:{showList:function(){var e=this;console.log(111111133334),this.$http.post("/msc/app/visit/pageQuery",this.pageQueryReq).then(function(t){console.log(111),t.success?(e.orderList=[].concat(r()(e.orderList),r()(t.body.list)),t.body.totalPage>e.pageQueryReq.pageNumber&&(e.pageQueryReq.pageNumber+=1,e.allLoaded=!1,console.log("待支付",e.orderList))):e.$messagebox.alert("查询订单列表失败："+t.message).then(function(t){e.$router.go(-1)})})},get8500:function(){var e=this,t={inData:{channelNo:sessionStorage.getItem("channelNo")||"",signNo:sessionStorage.getItem("signNo")||""}};this.$http.post("/msc/8500",t).then(function(t){t.success&&t.body?(e.signLevel=t.body.signLevel,sessionStorage.setItem("signLevel",e.signLevel),e.flag=!1):(e.flag=!1,e.$toast("暂未开通电子社保卡业务"))})},payClick:function(e){var t=this;if(2==this.signLevel){var s=location.href.substring(0,location.href.indexOf("#"))+"#/payDetail?obj="+a()(e)+"&signNo="+sessionStorage.getItem("signNo")+"&idCard="+this.user.idNo+"&name="+this.user.idName;!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.webkit.messageHandlers.goToPay.postMessage(s):window.EPSdk.newHtml(s)}else this.$messagebox.confirm("请点击电子社保卡开通缴费结算功能").then(function(){t.getSignCode()}).catch(function(){})},getSignCode:function(){var e=this,t={channelNo:sessionStorage.getItem("channelNo")||"",signNo:sessionStorage.getItem("signNo")||"",aab301:this.user.aab301,aac002:this.user.idNo,aac003:this.user.idName,busiSeq:"",aac067:this.user.aae005,returnUrl:""};this.$http.post("/msc/csb/sign",t).then(function(t){t.success?(e.signCode=t.body,e.jumpSdk()):e.$toast(t.message)})},jumpSdk:function(){var e=this,t={sign:this.signCode||""};dsBridge.call("startEsscSdk",t,function(t){(t=JSON.parse(t)).success&&(t.body.signNo&&sessionStorage.setItem("signNo",t.body.signNo),setTimeout(function(){e.get8500()},0))})},loadBottom:function(){this.allLoaded||this.showList(),this.allLoaded=!0,this.$refs.loadmore.onBottomLoaded()}}};document.body.style.background="#F2F2F2";var l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.orderList.length?s("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":e.loadBottom,"bottom-all-loaded":e.allLoaded}},[s("ul",{staticClass:"ul_list"},e._l(e.orderList,function(t){return s("li",{staticClass:"border_bottom"},[s("div",[s("label",[e._v("医院名称")]),e._v(" "),s("span",[e._v(e._s(t.hospital))])]),e._v(" "),s("div",[s("label",[e._v("姓名")]),e._v(" "),s("span",[e._v(e._s(e.user.idName))])]),e._v(" "),s("div",[s("label",[e._v("金额（元）")]),e._v(" "),s("span",[e._v(e._s(parseFloat(t.total).toFixed(2)||"0.00"))])]),e._v(" "),s("div",[s("label",[e._v(e._s(t.visitTime))]),e._v(" "),s("span",[s("button",{on:{click:function(s){e.payClick(t)}}},[e._v("去支付")])])])])}))]):e._e(),e._v(" "),e.orderList.length?e._e():s("div",{staticClass:"blank"},[s("div",{staticClass:"pic_null"}),e._v(" "),s("div",{staticClass:"tip"},[e._v("暂无记录")])])],1)},staticRenderFns:[]};var c=s("VU/8")(n,l,!1,function(e){s("lrbL")},"data-v-16657706",null);t.default=c.exports},rdVE:function(e,t){},tXPj:function(e,t){},wjNl:function(e,t){}});